!function(){function e(n){if(void 0!==n.preloadState)return;if(!function(e){const t=["href","hx-get","data-hx-get"],n=e=>t.some((t=>e.hasAttribute(t)))||"get"===e.method,r=e.form instanceof HTMLFormElement&&n(e.form)&&s(e);if(!n(e)&&!r)return!1;if(e instanceof HTMLInputElement&&e.closest("label"))return!1;return!0}(n))return;if(n instanceof HTMLFormElement){const t=n;if(!(t.hasAttribute("method")&&"get"===t.method||t.hasAttribute("hx-get")||t.hasAttribute("hx-data-get")))return;for(let n=0;n<t.elements.length;n++){const r=t.elements.item(n);e(r),"labels"in r&&r.labels.forEach(e)}return}let r=l(n,"preload");n.preloadAlways=r&&r.includes("always"),n.preloadAlways&&(r=r.replace("always","").trim());let o=r||"mousedown";const a="mouseover"===o;n.addEventListener(o,t(n,a)),"mousedown"!==o&&"mouseover"!==o||n.addEventListener("touchstart",t(n)),"mouseover"===o&&n.addEventListener("mouseout",(function(e){e.target===n&&"TIMEOUT"===n.preloadState&&(n.preloadState="READY")})),n.preloadState="READY",htmx.trigger(n,"preload:init")}function t(e,t=!1){return function(){if("READY"===e.preloadState)if(t){e.preloadState="TIMEOUT";const t=100;window.setTimeout((function(){"TIMEOUT"===e.preloadState&&(e.preloadState="READY",n(e))}),t)}else n(e)}}function n(e){if("READY"!==e.preloadState)return;e.preloadState="LOADING";const t=e.getAttribute("hx-get")||e.getAttribute("data-hx-get");if(t)return void o(t,e);const n="true"===l(e,"hx-boost");if(e.hasAttribute("href")){const t=e.getAttribute("href");n?o(t,e):a(t,e)}else if(s(e)){const t=e.form.getAttribute("action")||e.form.getAttribute("hx-get")||e.form.getAttribute("data-hx-get"),i=htmx.values(e.form),l=!(e.form.getAttribute("hx-get")||e.form.getAttribute("data-hx-get")||n)?a:o;if("submit"===e.type)return void l(t,e.form,i);const s=e.name||e.control.name;if("SELECT"===e.tagName)return void Array.from(e.options).forEach((n=>{if(n.selected)return;i.set(s,n.value);const o=r(e.form,i);l(t,e.form,o)}));const u=e.getAttribute("type")||e.control.getAttribute("type"),f=e.value||e.control?.value;if("radio"===u)i.set(s,f);else if("checkbox"===u){const e=i.getAll(s);e.includes(f)?i[s]=e.filter((e=>e!==f)):i.append(s,f)}const c=r(e.form,i);l(t,e.form,c)}else;}function r(e,t){const n=e.elements,r=new FormData;for(let e=0;e<n.length;e++){const o=n.item(e);t.has(o.name)&&"SELECT"===o.tagName?r.append(o.name,t.get(o.name)):t.has(o.name)&&t.getAll(o.name).includes(o.value)&&r.append(o.name,o.value)}return r}function o(e,t,n=void 0){htmx.ajax("GET",e,{source:t,values:n,headers:{"HX-Preloaded":"true"}})}function a(e,t,n=void 0){const r=new XMLHttpRequest;n&&(e+="?"+new URLSearchParams(n.entries()).toString()),r.open("GET",e),r.setRequestHeader("HX-Preloaded","true"),r.onload=function(){i(t,r.responseText)},r.send()}function i(e,t){if(e.preloadState=e.preloadAlways?"READY":"DONE","true"===l(e,"preload-images")){let e=document.createElement("div");e.innerHTML=t;let n=e.getElementsByTagName("img");Array.from(n).forEach((e=>{(new Image).src=e.src}))}}function l(e,t){if(null!=e)return e.getAttribute(t)||e.getAttribute("data-"+t)||l(e.parentElement,t)}function s(e){if(e instanceof HTMLInputElement||e instanceof HTMLButtonElement){const t=e.getAttribute("type");return["checkbox","radio","submit"].includes(t)}return e instanceof HTMLLabelElement?e.control&&s(e.control):e instanceof HTMLSelectElement}htmx.defineExtension("preload",{onEvent:function(t,n){if("htmx:afterProcessNode"!==t){if("htmx:beforeRequest"===t){const e=n.detail.requestConfig.headers;if(!("HX-Preloaded"in e)||"true"!==e["HX-Preloaded"])return;n.preventDefault();const t=n.detail.xhr;t.onload=function(){i(n.detail.elt,t.responseText)},t.onerror=null,t.onabort=null,t.ontimeout=null,t.send()}}else{const t=n.target||n.detail.elt;[...t.hasAttribute("preload")?[t]:[],...t.querySelectorAll("[preload]")].forEach((function(t){e(t),t.querySelectorAll("[href],[hx-get],[data-hx-get]").forEach(e)}))}}})}();